var oereoApp = angular.module('oereoApp', [
  'restangular',
  'ngRoute',
  'ngAnimate',
  'ui.bootstrap',
  'directives',
  'filters',
  'factories',
]);

oereoApp.config(function ($routeProvider) {

  $routeProvider
    .when('/', {
      controller: 'ListController',
      templateUrl: '<%= asset_url("templates/resource_list.html") %>',
      resolve: {
        resources: function (Restangular, $route) {
          return Restangular.all('resources').getList({ page: $route.current.params.page || 1 });
        }
      }
    })
    .when('/new', {
      controller: 'CreateController',
      templateUrl: '<%= asset_url("templates/resource_detail.html") %>'
    })
    .when('/edit/:resourceId', {
      controller: 'EditController',
      templateUrl: '<%= asset_url("templates/resource_detail.html") %>',
      resolve: {
        resource: function (Restangular, $route) {
          return Restangular.one('resources', $route.current.params.resourceId).get();
        }
      }
    })
    .otherwise({redirectTo: '/'});

});
